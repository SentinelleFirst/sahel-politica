<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact</title>
    <link rel="icon" href="images/favicon.svg" type="image/png">
    <link href="css/contact-page.css" rel="stylesheet">
    <link href="css/footer.css" rel="stylesheet">
    <link href="css/header.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore.js"></script>


</head>

<body>
    <header>
        <div class="menu">
            <div class="menu-left">
                <a href="index.html"><img alt="" src="images/logo_long_blanc.svg" class="menu-logo" /></a>
                <a href="index.html"><img alt="" src="images/favicon.svg" class="menu-logo-mobile" /></a>
                <div class="menu-link" id="menu-link">
                    <div class="options">

                        <div class="menu-option">
                            <div class="option-title">
                                <p>Who we are</p>
                                <img src="images/dropdown-arrow-menu.svg" alt="">
                            </div>
                            <div class="list-options">
                                <a href="about-us.html">About us</a>
                                <a href="about-us.html#team">Our team</a>
                                <a href="about-us.html#clients">Partners</a>
                            </div>
                        </div>

                        <div class="menu-option">
                            <div class="option-title">
                                <p>What we do</p>
                                <img src="images/dropdown-arrow-menu.svg" alt="">
                            </div>
                            <div class="list-options">
                                <a href="training.html">Training & Workshops</a>
                                <a href="consulting.html">Consulting</a>
                                <a href="keynote.html">Keynote</a>
                            </div>
                        </div>

                        <div class="menu-option">
                            <div class="option-title">
                                <p>News</p>
                                <img src="images/dropdown-arrow-menu.svg" alt="">
                            </div>
                            <div class="list-options">
                                <a href="events.html">Events</a>
                                <a href="publications.html">Publications</a>
                                <a href="reports.html">In-depth analysis</a>
                            </div>
                        </div>
                    </div>

                    <div class="menu-global">
                        <a href="contact.html"><img src="images/footer-icon-phone.svg" alt="">Contact us</a>
                        <div class="lang-btn">
                            <img src="images/glob-icon.svg" alt="">
                            <select id="mobilLangDropdown" title="Choose a language">
                                <option class="option" value="en">Global - EN</option>
                                <option class="option" value="fr">Global - FR</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <div class="menu-end">
                <div class="menu-global">
                    <a href="contact.html">Contact us</a>
                    <select id="desktopLangDropdown" title="Choose a language">
                        <option class="option" value="en">Global - EN</option>
                        <option class="option" value="fr">Global - FR</option>
                    </select>
                </div>
                <div class="menu-button">
                    <img id="menu-search-icon" src="images/menu-search-icon.svg" alt="">
                    <img id="menu-open" src="images/menu-icon.svg" alt="">
                </div>
            </div>
        </div>
    </header>
    <main>
        <section class="hero">
            <video autoplay muted loop id="bg-video">
                <source src="images/contact-us-hero.mp4" type="video/mp4">
                Your browser does not support HTML5 video.
            </video>
            <div class="hero-intro">
                <h1>Thanks for your interest in <span style="color: #D1D100;">Sahel Politica</span></h1>
                <div class="divider"></div>
                <p>Feel free to reach out for any inquiries. Our team is ready to assist you with tailored solutions and
                    expert advice on navigating the complex political and security landscape of the Sahel.</p>
            </div>
            <div class="formular">
                <div id="thanks-message">
                    <h5>Your message has been sent successfully!</h5>
                </div>
                <div class="contact-form active" id="contactForm">
                    <div class="duo-form">
                        <div class="form-group">
                            <label for="fisrtname">Firstname</label>
                            <input type="text" class="form-control" id="fisrtname" placeholder="eg : John">
                        </div>
                        <div class="form-group">
                            <label for="lastname">Lastname</label>
                            <input type="text" class="form-control" id="lastname" placeholder="eg : Doe">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" placeholder="eg : johndoe@gmail.com">
                    </div>
                    <div class="duo-form">
                        <div class="form-group">
                            <label for="company">Company</label>
                            <input type="text" class="form-control" id="company" placeholder="Your company name">
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <div class="input-group">
                                <input type="tel" class="form-control" id="phone" placeholder="Your phone number">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="object">Subject</label>
                        <textarea class="form-control" id="object" placeholder="Enter your object"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="message">Message</label>
                        <textarea class="form-control" id="message" rows="4"
                            placeholder="Enter your message"></textarea>
                    </div>
                    <div class="btn-nice" id="contactButton">
                        <span>Submit message</span>
                        <img src="images/send-mail.svg" alt="">
                    </div>
                </div>
            </div>
        </section>
        <button id="scrollToTopBtn" title="Go to top">↑</button>
        <footer>
            <div class="footer-logo">
                <img src="images/logo_long_blanc.svg" alt="Logo">
            </div>

            <div class="footer-permalinks">
                <h2>Subscribe</h2>
                <div class="permalinks">
                    <a href="contact.html">Contact us</a>
                    <a href="policies.html?option=privacy-policy">Privacy policy</a>
                    <a href="policies.html?option=terms-of-use">Terms of use</a>
                    <a href="policies.html?option=conditions-of-sales">Conditions of sales</a>
                </div>
            </div>
            <div class="footer-content">
                <div class="footer-left">
                    <p>Stay up to date with all our news by subscribing to our newsletter.</p>
                    <div class="newsletter-fil">
                        <input type="email" class="form-control newsletter-form" id="newsletterEmail"
                            placeholder="email address">
                        <button type="button" class="btn btn-outline-warning" id="registerButton">Submit</button>
                    </div>
                </div>
                <div class="footer-right">
                    <div class="list-info">
                        <div class="info">
                            <p>Sahel Politica, Chamerstrasse 172, 6300 Zug</p>
                            <img alt="" class="icon-info-footer" src="images/footer-icon-location.svg">
                        </div>
                        <div class="info">
                            <p>info@sahelpolitica.ch</p>
                            <img alt="" class="icon-info-footer" src="images/footer-icon-email.svg">
                        </div>
                    </div>

                </div>
            </div>

            <div class="copyright">
                <h6><img src="images/copyright.svg" alt=""> sahel policica, 2024, All rights reserved</h6>
                <div class="socials">
                    <a target="_blank" href="https://www.youtube.com/@SahelPolitica_A"><img alt="Youtube"
                            src="images/footer-youtube-icon.svg"></a>
                    <a target="_blank" href="https://x.com/SahelPolitica"><img alt="X"
                            src="images/footer-x-icon.svg"></a>
                    <a target="_blank" href="https://www.linkedin.com/company/sahelpolitica/"><img alt="Linkedin"
                            src="images/footer-linkedin-icon.svg"></a>
                </div>
            </div>
        </footer>
    </main>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getFirestore, collection, addDoc, Timestamp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";
        // Configuration de votre application Firebase
        const firebaseConfig = {
            apiKey: "AIzaSyC0CxRpNrWfbog-gXHIj-PQlNoUgZPyuFU",
            authDomain: "websitesapo-79e6f.firebaseapp.com",
            projectId: "websitesapo-79e6f",
            storageBucket: "websitesapo-79e6f.firebasestorage.app",
            messagingSenderId: "437960963379",
            appId: "1:437960963379:web:56b1405d1ddaac30207a46",
            measurementId: "G-6BPX26NN2Q"
        };
    
        // Initialiser Firebase et Firestore
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);
    
        // Fonction pour valider l'email
        function validateEmail(email) {
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return emailRegex.test(email);
        }
    
        // Ajouter un écouteur d'événement après chargement du DOM
        document.addEventListener("DOMContentLoaded", () => {
            const contactButton = document.getElementById("contactButton");
    
            contactButton.addEventListener("click", async () => {
                // Récupération des champs du formulaire
                const firstname = document.getElementById("fisrtname").value.trim();
                const lastname = document.getElementById("lastname").value.trim();
                const email = document.getElementById("email").value.trim();
                const company = document.getElementById("company").value.trim();
                const phone = document.getElementById("phone").value.trim();
                const object = document.getElementById("object").value.trim();
                const message = document.getElementById("message").value.trim();
    
                // Validation des champs
                if (!firstname || !lastname || !email || !phone || !object || !message) {
                    alert("Please fill in all required fields (Company is optional).");
                    return;
                }
    
                if (!validateEmail(email)) {
                    alert("Please enter a valid email address.");
                    return;
                }
    
                // Préparation des données
                const newMessage = {
                    company: company || null,
                    date: Timestamp.now(),
                    email: email,
                    firstname: firstname,
                    lastname: lastname,
                    message: message,
                    object: object,
                    phone: phone,
                    answer: "",
                };
    
                try {
                    // Ajouter les données à Firestore
                    const collectionRef = collection(db, "ContactFormMessage");
                    await addDoc(collectionRef, newMessage);

                    document.getElementById("contactForm").classList.remove("active");
                    document.getElementById("thanks-message").classList.add("active");    
                } catch (error) {
                    console.error("Error adding message to Firebase:", error);
                    alert("An error occurred while sending your message. Please try again later.");
                }
            });
        });
    </script>
    
    <script type="module">
        const menuIcon = document.getElementById('menu-open');
        const dropLink = document.getElementById('menu-link');

        const openIcon = 'images/menu-icon.svg';  // Image pour ouvrir le menu
        const closeIcon = 'images/menu-close.svg';  // Image pour fermer le menu

        menuIcon.addEventListener('click', function () {
            if (dropLink.classList.contains('active')) {
                // Si le menu est déjà ouvert, applique l'animation de fermeture
                dropLink.classList.remove('active');
                dropLink.classList.add('hide');

                // Attends la fin de l'animation (1s ici), puis masque complètement l'élément
                setTimeout(function () {
                    dropLink.classList.remove('hide');
                    dropLink.style.display = 'none'; // Cache le menu après l'animation
                }, 1000); // Temps de l'animation

                // Change l'icône en "menu ouvert"
                menuIcon.src = openIcon;
            } else {
                // Si le menu est fermé, montre-le et applique l'animation d'ouverture
                dropLink.style.display = 'flex'; // Affiche le menu avant l'animation
                dropLink.classList.add('active');

                // Change l'icône en "fermer"
                menuIcon.src = closeIcon;
            }
        });

        // Sélectionner tous les menus dans .menu-link
        const menus = document.querySelectorAll('.menu-link .menu-option');

        // Ajouter un écouteur d'événement de clic pour chaque bouton
        menus.forEach(menu => {
            menu.addEventListener('click', function () {
                // Si ce bouton est déjà actif, on le désactive (on retire 'active')
                if (this.classList.contains('active')) {
                    this.classList.remove('active');
                } else {
                    // Désactiver le bouton actif actuel s'il y en a un
                    const activeButton = document.querySelector('.other-filter .btn.active');
                    if (activeButton) {
                        activeButton.classList.remove('active');
                    }
                    // Activer le bouton cliqué
                    this.classList.add('active');
                }
            });
        });

    </script>
    <script>
        // Affiche le bouton lorsque l'utilisateur fait défiler vers le bas de 20 pixels à partir du haut du document
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        // Lorsque l'utilisateur clique sur le bouton, fait défiler vers le haut de la page
        document.getElementById("scrollToTopBtn").addEventListener("click", function () {
            document.body.scrollTop = 0; // Pour Safari
            document.documentElement.scrollTop = 0; // Pour Chrome, Firefox, IE et Opera
        });
    </script>
    <script src="js/script-language.js"></script>
</body>

</html>