<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sahel Politica</title>
    <link rel="icon" href="images/favicon.png" type="image/png">
    <link href="css/indexStyle.css" rel="stylesheet">
    <link href="css/footer.css" rel="stylesheet">
    <link href="css/header.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://getbootstrap.com/docs/5.3/assets/css/docs.css" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore.js"></script>

</head>

<body>
    <header>
        <div class="menu">
            <img alt="" src="images/logo_long_blanc.svg" class="menu-logo" />
            <button class="menu-toggle" aria-label="Toggle menu">☰</button>
            <div class="menu-link">
                <a class="langue-en" href="index.html">About us</a>
                <a class="langue-fr" href="index.html">A propos</a>
                <a href="services.html">Services</a>
                <a href="training.html">Training</a>
                <a href="blog.html">Publication</a>
                <a class="langue-en" href="contact.html">Contact us</a>
                <a class="langue-fr" href="contact.html">Nous contacter</a>
            </div>
            <select id="myDropdown" title="Choose a language">
                <option class="option" value="en">EN</option>
                <option class="option" value="fr">FR</option>
            </select>
        </div>
    </header>
    <main>
        <section class="carousel-container">
            <div class="carousel" id="hero-events">


            </div>
            <div class="dots" id="dots"></div>
        </section>
        <section class="blog">
            <div class="blog-title">
                <h1>Explore our latest insights and updates here.</h1>
                <div class="divider"></div>
            </div>
            <div class="articles">
                <div class="first-blog-box" id="first-blog-box">
                    <!-- The latest article will be dynamically inserted here -->
                </div>
                <div class="blog-boxs" id="blog-boxs">
                    <!-- The other articles will be dynamically inserted here -->
                </div>
            </div>
        </section>
        <section class="what-we-do">
            <img src="images/pexels-pnw-prod-8276369.jpg" alt="" class="left-img">
            <div class="text">
                <div class="title">
                    <h1>Your path to resilience</h1>
                    <div class="divider"></div>
                    <h6>Navigate challenges, unlock new opportunities.</h6>
                </div>
                <div class="links">
                    <div class="link link1">
                        <img src="images/Capture d’écran 2024-08-18 132034.png" alt="" class="link-img">
                        <h4>Tailored solutions for complex environments.</h4>
                        <a href="services.html">Our services<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                    </div>
                    <div class="link link2">
                        <img src="images/conference.jpeg" alt="" class="link-img">
                        <h4>Master the dynamics of the Sahel.</h4>
                        <a href="training.html">Our trainings<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                    </div>
                </div>
            </div>
        </section>
        <section class="services">
            <div class="text">
                <div class="title">
                    <h1>Anticipate, Protect, Succeed</h1>
                    <div class="divider"></div>
                    <p>Our services help you assess risks, manage crises, and strengthen the security of your operations
                        in the Sahel region.</p>
                </div>
                <img src="images/services-home.png" alt="">
            </div>
            <div class="service-options">
                <div class="option">
                    <img src="images/audit-back.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>Sahel Resilience Audit</h6>
                        <div class="description">
                            <p>Gain clarity on crisis impact and boost organizational resilience in volatile
                                environments.</p>
                            <a href="services.html#service1">See more<img src="images/right-arrow-yellow.svg" alt=""
                                    class="arrow-icon"></a>
                        </div>
                    </div>
                </div>
                <div class="option">
                    <img src="images/risk-prevention.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>Risk Prevention Strategy</h6>
                        <div class="description">
                            <p>Identify vulnerabilities and strengthen your risk management framework with tailored
                                strategies.</p>
                            <a href="services.html#service2">See more<img src="images/right-arrow-yellow.svg" alt=""
                                    class="arrow-icon"></a>
                        </div>
                    </div>
                </div>
                <div class="option">
                    <img src="images/pexels-uniqueton-4021262.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>Crisis Action Plan</h6>
                        <div class="description">
                            <p>Prepare for the unexpected with comprehensive crisis scenarios and security plans.</p>
                            <a href="services.html#service3">See more<img src="images/right-arrow-yellow.svg" alt=""
                                    class="arrow-icon"></a>
                        </div>
                    </div>
                </div>
                <div class="option">
                    <img src="images/pexels-goumbik-590016.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>Growth Accelerator</h6>
                        <div class="description">
                            <p>Seize opportunities with strategic insights and risk mitigation for sustainable expansion
                                in the Sahel.</p>
                            <a href="services.html#service4">See more<img src="images/right-arrow-yellow.svg" alt=""
                                    class="arrow-icon"></a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <section class="training">
            <div class="text">
                <h1>Master Sahel Challenges</h1>
                <div class="divider"></div>
                <p>Our training programs equip you with the tools to navigate geopolitical risks and build resilience in
                    the Sahel region.</p>
                <img src="images/business-presentation.svg" alt="">
            </div>
            <div class="training-options">
                <a href="training.html#training1">
                    <img src="images/home-page-carroussel-2.png" alt="" class="back-img">
                    <div class="title">
                        <h6>Sahel <span style="color: #D1D100;">geopolitical</span> analysis</h6>
                        <div class="caption-divider"></div>
                    </div>
                    <img src="images/right-arrow-white.svg" alt="" class="arrow-icon">

                </a>
                <a href="training.html#training2">
                    <img src="images/article1.png" alt="" class="back-img">
                    <div class="title">
                        <h6><span style="color: #D1D100;">Risk Management and Security</span> in the Sahel</h6>
                        <div class="caption-divider"></div>
                    </div>
                    <img src="images/right-arrow-white.svg" alt="" class="arrow-icon">
                </a>
                <a href="training.html#training3">
                    <img src="images/pexels-pnw-prod-8276369.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>Strategies for <span style="color: #D1D100;">Engagement and Collaboration</span> in the
                            Sahel</h6>
                        <div class="caption-divider"></div>
                    </div>
                    <img src="images/right-arrow-white.svg" alt="" class="arrow-icon">
                </a>
                <a href="training.html#training4">
                    <img src="images/Homepage-picture-scaled.jpg" alt="" class="back-img">
                    <div class="title">
                        <h6>OSINT (<span style="color: #D1D100;">Open Source Intelligence</span>) in the Sahel</h6>
                        <div class="caption-divider"></div>
                    </div>
                    <img src="images/right-arrow-white.svg" alt="" class="arrow-icon">
                </a>
            </div>
        </section>
        <section class="our-team">
            <div class="team-imgs">
                <div class="column1">
                    <img src="images/team-ceo.png" alt="" class="img1">
                    <img src="images/team-awalou.png" alt="" class="img2">
                </div>
                <div class="column2">
                    <img src="images/team-idrissa.png" alt="" class="img1">
                    <img src="images/team-joris.jpg" alt="" class="img2">
                </div>
            </div>
            <div class="text">
                <h1>Discover more about who we are</h1>
                <div class="divider"></div>
                <p>Explore the heart of Sahel Politica. Learn about our mission, vision, and the dedicated team working
                    to guide organizations through the complexities of the Sahel region. </p>
                <a href="about-us.html">
                    <div class="btn-nice">
                        <span>WHO WE ARE</span>
                        <img src="images/btn-arrow-right.svg" alt="">
                    </div>
                </a>
            </div>
        </section>
        <section class="our-clients">
            <h1 class="langue-en">They trust us</h1>
            <h1 class="langue-fr">Ils nous font confiance</h1>
            <div class="slider">
                <div class="slide-track">
                    <div class="slide">
                        <img src="images/undp-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/gcsp-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/suisse-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/caritas-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/international-SOS-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/undp-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/gcsp-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/suisse-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/caritas-logo.png" alt="" />
                    </div>
                    <div class="slide">
                        <img src="images/international-SOS-logo.png" alt="" />
                    </div>
                </div>
            </div>
        </section>
        <button id="scrollToTopBtn" title="Go to top">↑</button>
        <footer>
            <div class="footer-top">
                <div class="footer-title-newsletter">
                    <img src="images/logo_long_blanc.svg" alt="Logo">
                </div>
                <div class="permalinks">
                    <a href="contact.html">Contact us</a>
                    <a href="">FAQ</a>
                    <a href="">Privacy policy</a>
                    <a href="">Terms of use</a>
                </div>
            </div>
            <div class="footer-info">
                <div class="newsletter">
                    <h3>Subscribe</h3>
                    <p class="langue-en">Stay up to date with all our news by subscribing to our newsletter.</p>
                    <input type="email" class="form-control newsletter-form" id="newsletterEmail"
                        placeholder="email address">
                    <button type="button" class="btn btn-outline-warning" id="registerButton">Submit</button>
                </div>
                <div class="list-info">
                    <div class="info">
                        <p>SAPAS Gmbh, Chamerstrasse 172, 6300 Zug</p>
                        <img alt="" class="icon-info-footer" src="images/footer-icon-location.svg">
                    </div>
                    <div class="info">
                        <p>info@sahelpolitica.ch</p>
                        <img alt="" class="icon-info-footer" src="images/footer-icon-email.svg">
                    </div>
                    <div class="info">
                        <p>+41 77 503 63 94</p>
                        <img alt="" class="icon-info-footer" src="images/footer-icon-phone.svg">
                    </div>
                </div>

            </div>
            <div class="copyright">
                <p><img src="images/copyright.svg" alt=""> sahel policica, 2024, All rights reserved</p>
                <div class="socials">
                    <a target="_blank" href="https://x.com/SahelPolitica"><img alt="X" src="images/footer-x-icon.svg"></a>
                    <a target="_blank" href="https://www.linkedin.com/company/sahelpolitica/"><img alt="Linkedin"
                            src="images/footer-linkedin-icon.svg"></a>
                </div>
        </footer>
    </main>
    <script>
        // Sélectionner tous les éléments avec la classe .option
        const options = document.querySelectorAll('.option');

        // Ajouter un événement de clic à chaque élément
        options.forEach(option => {
            option.addEventListener('click', () => {
                // Supprimer la classe .open de tous les éléments sauf l'élément sélectionné
                options.forEach(opt => {
                    if (opt !== option) {
                        opt.classList.remove('open');
                    }
                });
                // Ajouter ou supprimer la classe .open à l'élément sélectionné
                option.classList.toggle('open');
            });
        });
    </script>
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-analytics.js";
        import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCyYxzhPSc_Izx4PY1V4ij0PxxoWdqz7xM",
            authDomain: "sahelpolitica.firebaseapp.com",
            projectId: "sahelpolitica",
            storageBucket: "sahelpolitica.appspot.com",
            messagingSenderId: "11417703739",
            appId: "1:11417703739:web:882052b747e7b761bdd31e",
            measurementId: "G-WFFDBTWRKV"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);

        // Function to fetch and display events
        async function fetchEvents() {
            const eventsContainer = document.getElementById('hero-events');
            const dotsContainer = document.getElementById("dots");

            try {
                // Récupérer tous les événements de la collection
                const querySnapshotEvents = await getDocs(collection(db, 'Events'));

                // Convertir les documents en tableau d'événements
                const events = querySnapshotEvents.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));

                // Trier les événements par 'date' en ordre décroissant
                events.sort((a, b) => b.date.seconds - a.date.seconds);

                // Limiter le nombre d'événements à 5
                const limitedEvents = events.slice(0, 5);

                // Effacer le contenu précédent
                eventsContainer.innerHTML = '';
                dotsContainer.innerHTML = '';

                // Afficher les événements limités
                limitedEvents.forEach((event, index) => {
                    const eventElement = document.createElement('div');
                    eventElement.classList.add('item');

                    // Appliquer la classe 'active' au premier élément pour qu'il s'affiche
                    if (index === 0) {
                        eventElement.classList.add('active');
                    }

                    eventElement.innerHTML = `
                <img src="${event.imageUrl}" class="backimg">
                <div class="caption">
                    <h4>Our latest events</h4>
                    <div class="divider"></div>    
                    <h1 class="langue-en">${event.title}</h1>
                    <h1 class="langue-fr">${event.titleFR}</h1>
                    <a class="langue-en" target="_blank" href="${event.linkedinPost}">Read more<img src="images/right-arrow-yellow.svg" alt=""
                    class="arrow-icon"></a>
                    <a class="langue-fr" target="_blank" href="${event.linkedinPost}">Voir plus<img src="images/right-arrow-yellow.svg" alt=""
                    class="arrow-icon"></a>
                </div>
            `;

                    // Ajouter l'élément à la liste des événements
                    eventsContainer.appendChild(eventElement);

                    // Ajouter les dots correspondants
                    const dotElement = document.createElement('div');
                    dotElement.classList.add('dot');

                    if (index === 0) {
                        dotElement.classList.add('active');
                    }

                    dotElement.innerHTML = `
                <div class="divider constant-divider">
                    <div class="divider progress-divider"></div>
                </div>
                <h5 class="langue-en">${event.smallTitle}</h5>
                <h5 class="langue-fr">${event.smallTitleFR}</h5>
            `;

                    dotsContainer.appendChild(dotElement);
                });

                // Initialize carousel functionality AFTER events have been loaded
                initializeCarousel();

            } catch (error) {
                console.error("Error fetching events: ", error);
            }
        }

        // Function to initialize carousel functionality
        function initializeCarousel() {
            let carousel = document.querySelector(".carousel");
            let items = carousel.querySelectorAll(".item");
            let dots = document.querySelectorAll(".dot");
            let currentIndex = 0;
            const intervalTime = 10000; // Time in milliseconds for each slide

            // Function to show a specific item
            function showItem(index) {
                items.forEach((item, idx) => {
                    if (idx === index) {
                        item.classList.add("active");
                        dots[idx].classList.add("active");
                    } else {
                        item.classList.remove("active");
                        dots[idx].classList.remove("active");
                    }
                });
                currentIndex = index;
            }

            // Function to show the next item
            function showNextItem() {
                let nextIndex = (currentIndex + 1) % items.length;
                showItem(nextIndex);
            }

            // Event listeners for dots
            dots.forEach((dot, index) => {
                dot.addEventListener("click", () => {
                    showItem(index);
                });
            });

            // Automatically change slides at the set interval
            setInterval(showNextItem, intervalTime);
        }

        // Fetch events on page load
        document.addEventListener('DOMContentLoaded', fetchEvents);



        // Function to fetch and display articles
        async function fetchArticles() {
            const firstaArticleContainer = document.getElementById('first-blog-box');
            const articlesContainer = document.getElementById('blog-boxs'); try {
                // Récupérer tous les articles de la collection
                const querySnapshotArticles = await getDocs(collection(db, 'Articles'));

                // Convertir les documents en tableau d'articles
                const articles = querySnapshotArticles.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));

                // Trier les articles par 'date' en ordre décroissant
                articles.sort((a, b) => b.date - a.date);

                // Afficher le premier élément le plus récent
                const firstElement = document.createElement('div');
                firstElement.classList.add('first-article');

                firstElement.innerHTML = `
                            <img src="${articles[0].imageUrl}">
                            <div class="blog-article-title">
                                <h4 class="langue-en">${articles[0].smallTitle}</h4>
                                <h4 class="langue-fr">${articles[0].smallTitleFR}</h4>
                                <p>${new Date(articles[0].date.seconds * 1000).toLocaleString()}</p>
                            </div>
                            <div class="blog-article-info">
                                <p class="langue-en">${articles[0].title}</p>
                                <p class="langue-fr">${articles[0].titleFR}</p>
                                <a class="langue-en" href="article.html?id=${articles[0].id}">Read more<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                                <a class="langue-fr" href="article.html?id=${articles[0].id}">Voir plus<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                            </div>
                        `;

                firstaArticleContainer.appendChild(firstElement);

                // Limiter le nombre d'articles à 3 après le premier article
                const limitedArticles = articles.slice(1, 5);

                // Effacer le contenu précédent
                articlesContainer.innerHTML = '';

                // Afficher les articles limités
                limitedArticles.forEach(article => {
                    const articleElement = document.createElement('div');
                    articleElement.classList.add('blog-article');
                    articleElement.innerHTML = `
                            <img src="${article.imageUrl}">
                            <div class="blog-article-title">
                                <h6 class="langue-en">${article.smallTitle}</h6>
                                <h6 class="langue-fr">${article.smallTitleFR}</h6>
                                <p>${new Date(article.date.seconds * 1000).toLocaleString()}</p>
                                <a class="langue-en" href="article.html?id=${article.id}">Read more<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                                <a class="langue-fr" href="article.html?id=${article.id}">Voir plus<img src="images/right-arrow-yellow.svg" alt=""
                                class="arrow-icon"></a>
                            </div>
                            
                        `;
                    articlesContainer.appendChild(articleElement);
                });
            } catch (error) {
                console.error("Error fetching articles: ", error);
            }
        }

        // Fetch articles on page load
        document.addEventListener('DOMContentLoaded', fetchArticles);
    </script>
    <script src="js/indexJs.js"></script>
    <script>
        // Affiche le bouton lorsque l'utilisateur fait défiler vers le bas de 20 pixels à partir du haut du document
        window.onscroll = function () { scrollFunction() };

        function scrollFunction() {
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollToTopBtn.style.display = "block";
            } else {
                scrollToTopBtn.style.display = "none";
            }
        }

        // Lorsque l'utilisateur clique sur le bouton, fait défiler vers le haut de la page
        document.getElementById("scrollToTopBtn").addEventListener("click", function () {
            document.body.scrollTop = 0; // Pour Safari
            document.documentElement.scrollTop = 0; // Pour Chrome, Firefox, IE et Opera
        });
    </script>
    <script src="js/script-language.js"></script>
</body>

</html>